
<!DOCTYPE html>
<!-- saved from url=(0053)http://adnew.qq.com/lab/casperTest/new_api_test4.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type="text/javascript" src="./new_api_test4_files/mraid.js">
        </script><style type="text/css"></style><style type="text/css"></style>
			<script src="./new_api_test4_files/mraid(1).js"></script>

    </head>
    <body align="center" style="background-color: rgba(40, 0, 0, 0.498039);" 100%";="" height:"100%";="">
				<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_scan_qrcode_custom()">
            scan_qrcode_custom
        </button>
				<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_scan_qrcode_default()">
            scan_qrcode_default
        </button>
			<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_has_app()">
            has_app
        </button>
				<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_open_app()">
            open+app
        </button>
		
    <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_cancelSplashCountDown()">
        cancelCountDown
    </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getAndroidVersion()">
            getAndroidVersion
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_skipAd()">
            skipAd
        </button>
    <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_vibrate()">
        vibrate
    </button>
	    <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_vibrateOnce()">
        vibrateOnce
    </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_showLoginPanel()">
            showLoginPanel
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getLoginStatus()">
            getLoginStatus
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_supportApis()">
            supportApis
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getAppContext()">
            getAppContext
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getDeviceInfo()">
            getDeviceInfo
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getNetworkStatus()">
            getNetworkStatus
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_hide_timer()">
            hideTimer
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_hide_detail()">
            hideDetail
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_hide_clicktip()">
            hideClickTip
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_show_clicktip()">
            showClickTip
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="resize()">
            resize
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_open_record()">
            OpenRecordDialog
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="expand_error()">
            expandError
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="expand_properties()">
            expandProperties
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="expand_utility()">
            expandUtility
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="expand_null()">
            expandNull
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_pause()">
            Pause
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_resume()">
            Resume
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_get_progress()">
            GetProgress
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_get_userKey()">
            GetUserKey
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_weixin_share()">
            ShareFriend
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_weixin_group()">
            ShareCircel
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_show_share_pannel()">
            ShowSharePanel
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_removeRichAd()">
            removeRichAd
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_viewEmpty()">
            viewMore Empty
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getDomain()">
            getDomain
        </button>
        <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_viewMore()">
            viewMore2
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getRichData()">
            getRichData
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_getParams()">
            getParams
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_videoSeek()">
            videoSeek
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_key_intercept()">
            key_intercept
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_key_nonblock()">
            key_nonblock
        </button>
		<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_key_remove()">
            key_remove
        </button>
    <button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_get_cookie()">
        get_cookie
    </button>
	<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="clicked_vibrate()">
        clicked_vibrate
    </button>
	<button type="button" style="height:60px;width:400px;font-size:40px;" onclick="getUrlsForVids()">
        getUrlsForVids
    </button>
        <br>
        <div id="info">
        </div>
        <script>
            mraid.addEventListener(mraid.EVENTS['READY'], readyCallBack);
			mraid.addEventListener(mraid.extend.EVENTS['LOGIN_STATUS_CHANGE'], loginStatusCallack);
            function clicked_cancelSplashCountDown(){
                var v = mraid.extend.cancelSplashAdCountdown();
            }
            function clicked_key_intercept(){
                var v = mraid.requestDeliverKeyEvent("clicked_key_handler", true);
            }
			function clicked_key_nonblock(){
                var v = mraid.requestDeliverKeyEvent(clicked_key_handler, false);
            }
			function clicked_key_remove(){
                var v = mraid.requestDeliverKeyEvent("", false);
            }
			function clicked_key_handler(keyCode, action){
                    alert("keycode:" + keyCode + "-action:" + action);
            }
            function clicked_pause(){
                var v = mraid.mainVideo.pause();
            }
            
            function clicked_resume(){
                var v = mraid.mainVideo.resume();
            }
            
            function wxcallbackFriend(success){
                if (success) {
                    alert("Friend share success");
                }
                else {
                    alert("Friend share failed");
                }
            }
			
            function wxcallbackTimeline(success){
                if (success) {
                    alert("Timeline share success");
                }
                else {
                    alert("Timeline share failed");
                }
            }
			
            function wxcallbackSharePanel(success){
                if (success) {
                    alert("Show SharePanel success");
                }
                else {
                    alert("Show SharePanel failed");
                }
            }
            
            window.shareWxCallback = function(r){
                if (r) {
                    alert(1);
                }
                else {
                    alert(2);
                }
            };
            
            function clicked_removeRichAd(){
                console.log("Casper: " + 10);
                mraid.mainAd.removeRichAd();
            }
			
			function clicked_getDomain(){
			    console.log("Casper: " + "getDomain");
                alert(mraid.extend.getAppContext().domain);
			}
			
            function clicked_viewMore(){
                console.log("Casper: " + 11);
                mraid.extend.viewMore("tenvideo2://?action=1&cover_id=lcpwn26degwm7t3");
            }
			
			function clicked_viewEmpty(){
                console.log("Casper: " + 11);
                mraid.extend.viewMore();
            }
            
            function clicked_get_progress(){
                console.log("Casper: " + 3);
                var v = mraid.mainVideo.getProgress();
                alert(v);
            }
			
            function clicked_get_userKey(){
                console.log("Casper: " + 3);
                var v = mraid.getUserKey();
                alert(v);
            }
            
			function clicked_weixin_share(){
                document.getElementById("info").innerHTML = "request wx friend share";
                var v = mraid.shareToWXFriend("titleCircel", "cotent", "http://www.qq.com", "http://imgcache.qq.com/ac/www_tencent/zh-cn/images/sitelogo_zh-cn.gif", "wxcallbackFriend");
            }
            
            function clicked_weixin_group(){
                document.getElementById("info").innerHTML = "request wx timeline share";
                var v = mraid.shareToWXTimeLine("titleCircel", "cotent", "http://www.qq.com", "http://imgcache.qq.com/ac/www_tencent/zh-cn/images/sitelogo_zh-cn.gif", "wxcallbackTimeline");
            }
            function clicked_show_share_pannel(){
                document.getElementById("info").innerHTML = "request wx share panel";
                var v = mraid.showSharePanel("titleCircel", "cotent", "http://www.qq.com", "http://imgcache.qq.com/ac/www_tencent/zh-cn/images/sitelogo_zh-cn.gif", "shareWxCallback");
            }
            
            function resize(){
                console.log("resize");
                var resizeProperties = {
                    width: 320,
                    height: 400,
                    customClosePosition: 'top-right',
                    offsetX: 0,
                    offsetY: 0,
                    allowOffscreen: true
                };
                mraid.setResizeProperties(resizeProperties);
                resizeProperties = mraid.getResizeProperties();
                var info = "width=" + resizeProperties.width + ", height=" + resizeProperties.height +
                "<br/>" +
                "offsetX=" +
                resizeProperties.offsetX +
                ", offsetY=" +
                resizeProperties.offsetY
                document.getElementById("info").innerHTML = info;
                mraid.resize();
            }
            
            function clicked_hide_timer(){
                var v = mraid.extend.setObjectViewable(1, false);
            }
            
            
            function clicked_hide_detail(){
                var v = mraid.extend.setObjectViewable(2, false);
            }
			
			function clicked_hide_clicktip(){
                var v = mraid.extend.setObjectViewable(3, false);
            }
			
			function clicked_show_clicktip(){
                var v = mraid.extend.setObjectViewable(3, true);
            }
			
			function clicked_open_record(){
				var expandProperties = {};
				expandProperties.width = "800";
				expandProperties.height = "600";
				expandProperties.useCustomClose = "false";
				expandProperties.isModal = "true";
				mraid.setExpandProperties(JSON.stringify(expandProperties));
				mraid.expand("file:///android_asset/mraid_record.html");
			}
            
            function expand_properties(){
                console.log("expand_properties");
               mraid.expand("http://adnew.qq.com/mraid_getproperties.html");
            }
			
            function expand_error(){
                console.log("expand_error");
                mraid.expand("http://www.1232134512341234123512341234234.com");
            }
			
            function expand_null(){
                console.log("expand_null");
				mraid.expand(null);
            }
            
            function expand_utility(){
                console.log("expand_utility");
             //   mraid.expand("http://adnew.qq.com/mraid_utility.html");
			 mraid.expand("file:///android_asset/mraid_utility.html");
            }
			
			function clicked_getAndroidVersion(){
				console.log("get_AndroidVersion");
				alert(mraid.getAndroidVersion());
			}
			function clicked_skipAd(){
				console.log("skipAd");
				mraid.mainAd.skipAd();
			}
			function clicked_vibrateOnce(){
				console.log("vibrateOnce");
				mraid.extend.vibrate(100);
			}
			function clicked_vibrate(){
				console.log("vibrate");
				var a = new Array("0", "50","50","100","50","200","50","300","50","50","50","100");
				mraid.extend.vibrate(a, 2);
			}
			function clicked_showLoginPanel(){
				console.log("showLoginPanel");
				mraid.extend.showLoginPanel("all", "loginCallback");
			}
			function clicked_getLoginStatus(){
				console.log("getLoginStatus");
				mraid.extend.getLoginStatus("getLoginStatusCallback");
			}
			function getLoginStatusCallback(status){
				console.log(status);
				alert(status);
			}
			function clicked_supportApis(){
				var list = new Array('getUserKey','setOrientationProperties','abccab','storePicture','getAppContext','getAndroidVersion','getNetworkStatus');
				var result = mraid.extend.apiSupports(list);
				alert(mraid.stringify(result));
			}
			function clicked_getAppContext(){
				console.log("getAppContext");
				alert(mraid.extend.getAppContext().appVersion);
			}
			function clicked_getDeviceInfo(){
				var deviceInfo = mraid.extend.getAppContext().deviceInfo;
				console.log("getAppContext:" + deviceInfo);
				alert(deviceInfo);
			}
			function clicked_getNetworkStatus(){
				console.log("getNetworkStatus");
				var networkStatus = mraid.extend.getNetworkStatus();
				alert(networkStatus.status);
			}
			function loginCallback(msg){
			    console.log(msg);
			    alert(msg);
			}
			function clicked_get_cookie(){
			    console.log(document.cookie);
   			    alert(document.cookie);
			}
			function clicked_scan_qrcode_default(){
   			    mraid.extend.scanQRCode("default", "");
			}
			function clicked_scan_qrcode_custom(){
   			    mraid.extend.scanQRCode("custom", "scan_qrcode_callback");
			}
			function clicked_has_app(){
   			    mraid.extend.hasApp("com.tencent.news", "hasAppCallback");
			}
			function hasAppCallback(result){
				alert(result);
			}
			function scan_qrcode_callback(result){
				alert(result);
			}
			function clicked_open_app(){
   			    mraid.extend.openApp("com.tencent.news");
			}
		    function clicked_getRichData(){
			    mraid.extend.getRichdata("getRichDataCallBack");
			}
			function clicked_getParams(){
			    mraid.extend.getParams("getParamCallBack");
			}
		    function clicked_videoSeek(){
   			    mraid.extend.videoSeek(10000);
			}
		    function readyCallBack(){
			    console.log("ready");
   			    alert("ready");
				mraid.extend.richMediaViewPing();
			}		    
			function loginStatusCallack(){
				console.log("request login status");
   			    alert("request login status");
				mraid.extend.getLoginStatus("getLoginStatusCallback")
			}
			function getRichDataCallBack(result){
			    console.log(result);
   			    alert(result);
			}
			function getParamCallBack(result){
			    console.log(result);
   			    alert(result);
			}
			function clicked_vibrate(){
				console.log("vibrate");
				mraid.extend.vibrate(5000);
			}
			function getUrlsForVids(){
				var vidArr = ["h0200lo60aq","d0200v6na9i"];
				var urlArr = [];
				mraid.extend.getUrlsForVids(vidArr,'getUrl');
			}
			function getUrl(_path){
				alert("返回的值：" + _path);
				if(_path != ""){
					var tempString = _path;
					var urlObj = jQuery.parseJSON(tempString);
					$.each(urlObj, function(key, value){
						for(var i = 0; i < vidArr.length; i++){
							if(vidArr[i] == key){
								urlArr[i] = value
							}
						}
					});
					alert(urlArr);
				} else{
					alert("vid change error");
					return;
				}
			}
        </script>
    

</body></html>
